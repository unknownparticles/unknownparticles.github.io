---
layout: page
title: "å¼€æºé¡¹ç›®"
description: "æˆ‘å‚ä¸çš„å¼€æºé¡¹ç›®å’Œä½œå“"
header-img: "img/post-bg-universe.jpg"
---

<div class="post-container project-page">
    <h2>ğŸŒŸ GitHub å¼€æºé¡¹ç›®</h2>
    <p>é¡µé¢ä¼šè‡ªåŠ¨æ‹‰å– <a href="https://github.com/unknownparticles?tab=repositories" target="_blank" rel="noopener">unknownparticles çš„ä»“åº“åˆ—è¡¨</a>ï¼Œæ— éœ€æ‰‹åŠ¨ç»´æŠ¤ã€‚</p>

    <hr>

    <h3>ğŸŒ GitHub Pages Demo å±•ç¤º</h3>
    <p>è‡ªåŠ¨ç­›é€‰ GitHub Pages ä»“åº“ï¼ˆåŒ…å« Pages å¼€å¯ã€ä¸»é¡µå« github.ioï¼Œæˆ–å·²çŸ¥ Pages é¡¹ç›®ï¼‰ï¼Œå¹¶ä¼˜å…ˆå±•ç¤º GitHub Pages/ä¸»é¡µåœ°å€ã€‚</p>
    <div id="pages-status" class="project-status">æ­£åœ¨è·å– GitHub æ•°æ®...</div>
    <div id="pages-grid" class="project-grid"></div>

    <hr>

    <h3>ğŸ“¦ GitHub ä»“åº“æµè§ˆ</h3>
    <p>è‡ªåŠ¨æ‹‰å–æ‰€æœ‰å…¬å¼€ä»“åº“ï¼Œæ”¯æŒæœç´¢ä¸æ’åºï¼Œç‚¹å‡»å¡ç‰‡å³å¯è¿›å…¥ä»“åº“ä¸»é¡µã€‚</p>
    <div class="repo-controls">
        <input id="repo-search" class="repo-search" type="search" placeholder="æœç´¢ä»“åº“åç§°æˆ–æè¿°..." aria-label="æœç´¢ä»“åº“">
        <select id="repo-sort" class="repo-sort" aria-label="æ’åºä»“åº“">
            <option value="updated">æœ€è¿‘æ›´æ–°</option>
            <option value="stars">Star æ•°</option>
            <option value="name">åç§°</option>
        </select>
    </div>
    <div class="repo-summary" id="repo-summary">å…±åŠ è½½ 0 ä¸ªä»“åº“</div>
    <div id="repos-status" class="project-status">æ­£åœ¨è·å– GitHub æ•°æ®...</div>
    <div id="repos-grid" class="project-grid"></div>

    <div class="contribution-info">
        <p>æŸ¥çœ‹ GitHub ä¸»é¡µï¼š<a href="https://github.com/unknownparticles" target="_blank" rel="noopener">https://github.com/unknownparticles</a></p>
    </div>
</div>

<style>
.project-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin: 20px 0;
}

.project-card {
    border: 1px solid #e1e5e9;
    border-radius: 8px;
    padding: 20px;
    background: #fff;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    display: flex;
    flex-direction: column;
    min-height: 220px;
}

.project-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
}

.project-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
}

.project-header h4 {
    margin: 0;
    font-size: 18px;
}

.project-header h4 a {
    color: #0366d6;
    text-decoration: none;
}

.project-header h4 a:hover {
    text-decoration: underline;
}

.project-language {
    background: #f1f8ff;
    color: #0366d6;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 12px;
    font-weight: 500;
}

.project-description {
    color: #586069;
    margin: 10px 0;
    line-height: 1.5;
    flex: 1;
}

.project-links {
    margin-top: 15px;
}

.project-links .btn {
    margin-right: 8px;
    margin-bottom: 5px;
    border-radius: 4px;
    padding: 6px 12px;
    font-size: 12px;
    font-weight: 600;
    text-transform: none;
    letter-spacing: 0;
}

.project-links .btn-primary {
    background: #0366d6;
    border-color: #0366d6;
}

.project-links .btn-primary:hover,
.project-links .btn-primary:focus {
    background: #0256b3;
    border-color: #0256b3;
}

.project-links .btn-demo {
    background: #10b981;
    border-color: #10b981;
    color: #fff;
}

.project-links .btn-demo:hover,
.project-links .btn-demo:focus {
    background: #0f9b6b;
    border-color: #0f9b6b;
    color: #fff;
}

.project-links .btn-disabled {
    background: #e5e7eb;
    border-color: #d1d5db;
    color: #9ca3af;
    pointer-events: none;
}

.project-meta {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 12px;
    color: #6b7280;
    font-size: 12px;
}

.project-status {
    padding: 12px 16px;
    background: #f6f8fa;
    border-radius: 8px;
    margin: 15px 0;
    color: #586069;
}

.repo-controls {
    display: flex;
    gap: 12px;
    align-items: center;
    flex-wrap: wrap;
    margin: 15px 0;
}

.repo-search {
    flex: 1;
    min-width: 220px;
    padding: 8px 12px;
    border-radius: 6px;
    border: 1px solid #d0d7de;
}

.repo-sort {
    padding: 8px 12px;
    border-radius: 6px;
    border: 1px solid #d0d7de;
    background: #fff;
}

.repo-summary {
    margin: 10px 0;
    color: #6b7280;
    font-size: 13px;
}

.project-tag {
    background: #e5e7eb;
    color: #374151;
    padding: 4px 10px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 500;
}

.contribution-info {
    background: #f6f8fa;
    padding: 15px;
    border-radius: 8px;
    margin-top: 20px;
    text-align: center;
}
</style>

<script>
const GITHUB_USER = "unknownparticles";
const API_BASE = `https://api.github.com/users/${GITHUB_USER}/repos?per_page=100&sort=updated`;
const KNOWN_PAGES_REPOS = new Set([
    "todo",
    "chess",
    "my-note",
    "alive",
    "raro",
    "happy-new-year",
    "snake",
    "tetris",
    "whattoeattoday",
    "wageaware",
    "unknownparticles.github.io",
    "dice",
    "minesweeper"
]);

const pagesStatus = document.getElementById("pages-status");
const reposStatus = document.getElementById("repos-status");
const pagesGrid = document.getElementById("pages-grid");
const reposGrid = document.getElementById("repos-grid");
const repoSearch = document.getElementById("repo-search");
const repoSort = document.getElementById("repo-sort");
const repoSummary = document.getElementById("repo-summary");

const formatDate = (dateString) => {
    const date = new Date(dateString);
    return date.toLocaleDateString("zh-CN", {
        year: "numeric",
        month: "2-digit",
        day: "2-digit"
    });
};

const parseNextLink = (linkHeader) => {
    if (!linkHeader) {
        return null;
    }
    const links = linkHeader.split(",");
    for (const link of links) {
        const [urlPart, relPart] = link.split(";");
        if (relPart && relPart.includes('rel="next"')) {
            return urlPart.trim().replace(/[<>]/g, "");
        }
    }
    return null;
};

const getDemoUrl = (repo) => {
    if (repo.homepage) {
        return repo.homepage;
    }
    if (repo.has_pages) {
        return `https://${GITHUB_USER}.github.io/${repo.name}/`;
    }
    return "";
};

const isPagesRepo = (repo) => {
    const repoName = repo.name.toLowerCase();
    const homepage = (repo.homepage || "").toLowerCase();
    return (
        repo.has_pages ||
        homepage.includes("github.io") ||
        repoName.includes("page") ||
        KNOWN_PAGES_REPOS.has(repoName)
    );
};

const renderCard = (repo, options = {}) => {
    const demoUrl = options.showDemo ? getDemoUrl(repo) : "";
    const demoLabel = demoUrl ? "Live Demo" : "æš‚æ—  Demo";
    const demoClass = demoUrl ? "btn-demo" : "btn-disabled";

    return `
        <div class="project-card">
            <div class="project-header">
                <h4><a href="${repo.html_url}" target="_blank" rel="noopener">${repo.name}</a></h4>
                <span class="project-language"><i class="fa fa-code"></i> ${repo.language || "å¤šè¯­è¨€"}</span>
            </div>
            <p class="project-description">${repo.description || "æš‚æ— æè¿°"}</p>
            <div class="project-links">
                <a href="${repo.html_url}" target="_blank" rel="noopener" class="btn btn-sm btn-primary">
                    <i class="fa fa-github"></i> GitHub
                </a>
                ${options.showDemo ? `<a href="${demoUrl || "#"}" target="_blank" rel="noopener" class="btn btn-sm ${demoClass}" ${demoUrl ? "" : "aria-disabled=\"true\""}>
                    <i class="fa fa-external-link"></i> ${demoLabel}
                </a>` : ""}
            </div>
            <div class="project-meta">
                <span><i class="fa fa-star"></i> ${repo.stargazers_count}</span>
                <span>æ›´æ–°ï¼š${formatDate(repo.updated_at)}</span>
            </div>
        </div>
    `;
};

const updateRepoSummary = (total, visible) => {
    repoSummary.textContent = `å…±åŠ è½½ ${total} ä¸ªä»“åº“ï¼Œå½“å‰å±•ç¤º ${visible} ä¸ª`;
};

const sortRepos = (repos, mode) => {
    const sorted = [...repos];
    if (mode === "stars") {
        sorted.sort((a, b) => b.stargazers_count - a.stargazers_count);
    } else if (mode === "name") {
        sorted.sort((a, b) => a.name.localeCompare(b.name));
    } else {
        sorted.sort((a, b) => new Date(b.updated_at) - new Date(a.updated_at));
    }
    return sorted;
};

const filterRepos = (repos, keyword) => {
    if (!keyword) {
        return repos;
    }
    const lower = keyword.toLowerCase();
    return repos.filter((repo) => {
        const description = repo.description || "";
        return repo.name.toLowerCase().includes(lower) || description.toLowerCase().includes(lower);
    });
};

const renderRepoLists = (repos) => {
    const keyword = repoSearch.value.trim();
    const sortMode = repoSort.value;
    const filteredRepos = filterRepos(repos, keyword);
    const sortedRepos = sortRepos(filteredRepos, sortMode);

    reposGrid.innerHTML = sortedRepos.map((repo) => renderCard(repo)).join("");
    updateRepoSummary(repos.length, sortedRepos.length);
};

const renderPagesList = (repos) => {
    const pageRepos = repos.filter((repo) => isPagesRepo(repo));
    if (pageRepos.length === 0) {
        pagesStatus.textContent = "æš‚æ—  GitHub Pages ä»“åº“ã€‚";
        pagesGrid.innerHTML = "";
        return;
    }

    pagesStatus.textContent = `å·²æ‰¾åˆ° ${pageRepos.length} ä¸ª GitHub Pages ä»“åº“`;
    pagesGrid.innerHTML = pageRepos.map((repo) => renderCard(repo, { showDemo: true })).join("");
};

const fetchAllRepos = async () => {
    let url = API_BASE;
    let repos = [];

    while (url) {
        const response = await fetch(url);
        if (!response.ok) {
            throw new Error(`GitHub API è¯·æ±‚å¤±è´¥ï¼š${response.status}`);
        }
        const data = await response.json();
        repos = repos.concat(data);
        url = parseNextLink(response.headers.get("Link"));
    }

    return repos;
};

const initRepos = async () => {
    pagesStatus.textContent = "æ­£åœ¨è·å– GitHub æ•°æ®...";
    reposStatus.textContent = "æ­£åœ¨è·å– GitHub æ•°æ®...";

    try {
        const repos = await fetchAllRepos();
        if (!repos.length) {
            pagesStatus.textContent = "æš‚æœªè·å–åˆ°ä»“åº“æ•°æ®ã€‚";
            reposStatus.textContent = "æš‚æœªè·å–åˆ°ä»“åº“æ•°æ®ã€‚";
            return;
        }

        reposStatus.textContent = "";
        renderPagesList(repos);
        renderRepoLists(repos);

        repoSearch.addEventListener("input", () => renderRepoLists(repos));
        repoSort.addEventListener("change", () => renderRepoLists(repos));
    } catch (error) {
        pagesStatus.textContent = "è·å– GitHub æ•°æ®å¤±è´¥ï¼Œè¯·ç¨åå†è¯•ã€‚";
        reposStatus.textContent = "è·å– GitHub æ•°æ®å¤±è´¥ï¼Œè¯·ç¨åå†è¯•ã€‚";
        console.error(error);
    }
};

initRepos();
</script>
