这个也很简单，我们用到的是opencv库

```python
import cv2

# 加载人脸和眼睛检测器
face_cascade = cv2.CascadeClassifier(cv2.data.haarcascades + 'haarcascade_frontalface_default.xml')
eye_cascade = cv2.CascadeClassifier(cv2.data.haarcascades + 'haarcascade_eye.xml')

# 读取输入图像
image = cv2.imread("image.jpg")
gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)

# 人脸检测
faces = face_cascade.detectMultiScale(gray, 1.3, 5)

for (x,y,w,h) in faces:
    # 在人脸周围绘制矩形
    cv2.rectangle(image,(x,y),(x+w,y+h),(255,0,0),2)
    roi_gray = gray[y:y+h, x:x+w]
    roi_color = image[y:y+h, x:x+w]

    # 眼睛检测
    eyes = eye_cascade.detectMultiScale(roi_gray, scaleFactor=1.1, minNeighbors=5, minSize=(30, 30))
    for (ex,ey,ew,eh) in eyes:
        # 在眼睛周围绘制矩形
        cv2.rectangle(roi_color,(ex,ey),(ex+ew,ey+eh),(0,255,0),2)
        
        # 计算眼睛区域的中心坐标
        eye_center = (x + ex + ew//2, y + ey + eh//2)
        
        # 判断眼睛是否闭着（示例规则：如果眼睛高度占据面部区域的一定比例，则判断为闭眼）
        face_height = h
        eye_height = eh
        eye_ratio = eye_height / face_height
        eye_status = "Closed" if eye_ratio > 0.3 else "Open"
        
        # 在图像中标注眼睛状态
        cv2.putText(image, eye_status, eye_center, cv2.FONT_HERSHEY_SIMPLEX, 1, (0, 255, 0), 2, cv2.LINE_AA)


# 显示输出图像
cv2.imshow('Eye Status Detection',image)
cv2.waitKey(0)
cv2.destroyAllWindows()

```
首先导入[预训练模型](https://www.alipan.com/s/QWGHTf8P8rR)，没有的可以点击此处下载，导入图像，生成灰度图，然后做判断，可能不是很准还得做一些微调

识别结果
![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/b33a583b99fd94e369aa20cbed0799c7.png)
对多人图片的识别可能不是很好，但是可以通过调整模型精度来解决
![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/2d6869e501a2f485c6c5516f5cfd8f2a.png)

